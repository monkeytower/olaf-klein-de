---
title: "Schritt 4"
seoTitle: "Schritt 4: Coolify Deployment"
seoDescription: "Bereitstellung des Projekts auf Ihrem eigenen Server √ºber Coolify und Docker."
---

# üåç Schritt 4: Deployment

Wir hosten die Website auf **Coolify** (deploy.dalm.de). Wir verwenden den **Node.js Adapter** f√ºr Astro, der es uns erm√∂glicht, die Website als dauerhafte, containerisierte Anwendung auszuf√ºhren.

## 1. Docker vorbereiten

Astro ist so konfiguriert, dass es den `@astrojs/node` Adapter verwendet. Wir haben ein `Dockerfile`, das:
*   Abh√§ngigkeiten installiert und die Website baut.
*   Port 3000 f√ºr den Node.js-Server bereitstellt.
*   Den Standalone-Server-Einstiegspunkt ausf√ºhrt.

## 2. Verbindung zu Coolify

1.  Melden Sie sich bei Ihrer Coolify-Instanz unter `deploy.dalm.de` an.
2.  Erstellen Sie ein neues **Projekt** und eine **Ressource**.
3.  W√§hlen Sie **Public Repository** oder **Private GitHub Repository**.
4.  Coolify erkennt automatisch das `Dockerfile` im Stammverzeichnis des Projekts.

## 3. Umgebungsvariablen

Da wir in einem Container arbeiten, m√ºssen Umgebungsvariablen im Coolify-UI unter dem Reiter **Environment Variables** Ihrer Ressource definiert werden:

*   `GOOGLE_CLIENT_ID` / `_SECRET` / `_REFRESH_TOKEN`
*   `KEYSTATIC_GITHUB_CLIENT_ID` / `_SECRET`
*   `PUBLIC_TURNSTILE_SITE_KEY` / `TURNSTILE_SECRET_KEY`
*   `KEYSTATIC_SECRET`

## 4. GitHub App Callback

Wenn Sie Keystatic mit GitHub-Speicher verwenden, stellen Sie sicher, dass die **Callback-URL** Ihrer GitHub-App auf Ihre neue Domain zeigt:
`https://olaf-klein.de/api/keystatic/github/oauth/callback`

## 5. Das Ergebnis

Coolify √ºberwacht Ihr Repository. Wenn Sie in den `main`-Branch pushen, erstellt es ein neues Docker-Image und startet den Container ohne Ausfallzeit neu.

---

# üéâ Fazit

Ihr √úbergang zu einer selbstgehosteten Architektur ist abgeschlossen. Die Website ist:
*   **Schnell**: Vorausgerenderte statische Seiten, bereitgestellt durch Node.js.
*   **Funktional**: Aktive serverseitige API f√ºr das Kontaktformular.
*   **Unabh√§ngig**: Sie besitzen jetzt die gesamte Infrastruktur.

Viel Erfolg beim Deployen!
