---
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import { Card } from "../components/ui/Card"; // Will create a simple wrapper or use direct styling

export async function getStaticPaths() {
  const pages = await getCollection("pages");
  return pages.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<BaseLayout title={entry.data.title} description={entry.data.seoDescription}>
  <div class="max-w-4xl mx-auto px-6 py-12 md:px-12">
    {/* Breadcrumb / Back Link */}
    <nav class="mb-8 opacity-60 hover:opacity-100 transition-opacity">
      <a href="/" class="text-sm font-bold uppercase tracking-wider"
        >&larr; Home</a
      >
    </nav>

    {/* Header */}
    <header class="mb-12">
      <h1
        class="font-heading text-4xl font-black uppercase tracking-tight md:text-5xl text-primary mb-4"
      >
        {entry.data.title}
      </h1>
      {
        entry.data.seoDescription && (
          <p class="text-lg md:text-xl opacity-80 leading-relaxed font-light">
            {entry.data.seoDescription}
          </p>
        )
      }
    </header>

    {/* Content */}
    <article
      class="prose prose-lg prose-slate prose-headings:font-heading prose-headings:font-bold prose-headings:uppercase prose-a:text-primary prose-a:no-underline hover:prose-a:underline max-w-none"
    >
      <Content />
    </article>

    {/* Page Footer / Next Steps */}
    <hr class="my-12 border-secondary/10" />

    <div class="flex justify-between items-center opacity-60 text-sm">
      <span>&copy; Olaf Klein</span>
      <a href="#top" class="hover:text-primary transition-colors"
        >Back to Top &uarr;</a
      >
    </div>
  </div>
</BaseLayout>
