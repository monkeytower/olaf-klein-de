---
import BaseLayout from "../layouts/BaseLayout.astro";
import ContactForm from "../components/ui/ContactForm.astro";
import { createReader } from "@keystatic/core/reader";
import config from "../../keystatic.config";

// Initialize Keystatic Reader
const reader = createReader(process.cwd(), config);

// Fetch Data (using settings for site title)
const settings = await reader.singletons.settings.read();

const siteTitle = settings?.siteTitle || "Olaf Klein";
const headline = "Contact page Olaf Klein";
const subheadline = "Caveman with an iPhone";
---

<BaseLayout title={siteTitle} description={subheadline}>
  <div class="relative min-h-screen overflow-hidden">
    {/* Clean Background with very subtle texture */}
    <div
      class="absolute inset-0 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] dark:bg-[radial-gradient(#ffffff11_1px,transparent_1px)] [background-size:16px_16px] opacity-[0.4] pointer-events-none"
    >
    </div>

    <div
      class="relative max-w-7xl mx-auto px-6 py-12 md:px-12 lg:py-24 grid lg:grid-cols-2 gap-16 items-start"
    >
      {/* Hero Section */}
      <div class="space-y-12">
        <div class="space-y-4">
          <h1
            class="text-6xl md:text-8xl font-black tracking-tight leading-[0.9]"
          >
            {
              headline
                .split(" ")
                .map((word) => <span class="block">{word}</span>)
            }
          </h1>
          <p
            class="text-2xl md:text-3xl text-slate-400 dark:text-slate-500 font-medium tracking-tight"
          >
            {subheadline}
          </p>
        </div>

        {/* WhatsApp Buttons - Restored & High Contrast */}
        <div class="flex flex-col sm:flex-row gap-4">
          <a
            href="https://call.whatsapp.com/voice/8wDkPkV3sHyYe4AqIEx17I"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center justify-center gap-3 px-8 py-5 bg-[#25D366] text-white rounded-2xl font-black uppercase tracking-widest hover:scale-[1.02] hover:shadow-xl hover:shadow-[#25D366]/20 transition-all active:scale-95"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-phone"
              ><path
                d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"
              ></path></svg
            >
            WhatsApp Call
          </a>
          <a
            href="https://wa.me/491772688999"
            target="_blank"
            rel="noopener noreferrer"
            class="flex items-center justify-center gap-3 px-8 py-5 border-4 border-[var(--text-color)] text-[var(--text-color)] rounded-2xl font-black uppercase tracking-widest hover:bg-[var(--text-color)] hover:text-[var(--bg-color)] transition-all active:scale-95"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-message-square"
              ><path
                d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
              ></path></svg
            >
            WhatsApp Chat
          </a>
        </div>
      </div>

      {/* Form Section */}
      <div class="relative">
        <div
          class="bg-[var(--bg-color)] p-8 md:p-12 rounded-[2.5rem] border-4 border-[var(--text-color)] shadow-[16px_16px_0px_0px_var(--text-color)] dark:shadow-[16px_16px_0px_0px_rgba(255,255,255,0.1)] transition-all overflow-hidden"
        >
          <div class="space-y-2 mb-10">
            <h3 class="text-3xl font-black uppercase tracking-tight">
              Get in touch
            </h3>
            <div class="h-2 w-20 bg-primary"></div>
          </div>
          <ContactForm />
        </div>

        {/* Decorative elements behind form */}
        <div
          class="absolute -top-6 -right-6 w-full h-full border-4 border-[var(--border-color)] rounded-[2.5rem] -z-10"
        >
        </div>
      </div>
    </div>
  </div>
</BaseLayout>
